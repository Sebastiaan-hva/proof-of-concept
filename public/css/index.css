/* test */
main{
    position:absolute;
    z-index: -1;
    
}

.slider {
    margin-top:1em;
	display:flex;
	gap:1em;
	
	overflow-x:auto;
	scroll-snap-type:x mandatory;
	overscroll-behavior:contain;
	scroll-behavior:smooth;
	
  scrollbar-width: none;
}

.slider li {
	scroll-snap-align:center;
}



/******************************/
/* bolletjes en buttons basis */
/******************************/

.slider {
	anchor-name:--carousel;
}


/****************/
/* de bolletjes */
/****************/

.slider {
    scroll-marker-group: after;
	
	&::scroll-marker-group {
		position:absolute;
    position-anchor:--carousel;
	position-area: bottom center;
		
    margin-block-start:1em;
    
    height:.6em;
    
    display: flex;
    gap: .5em;
  }
}

.slider li {
	&::scroll-marker {
		content: '' / attr(data-label);
		
		width:1.8em;
		background-color:#fff;
		
		transition:.25s;
	}

	&::scroll-marker:target-current {
		background: #000;
	}
}



/**************/
/* de buttons */
/**************/

.slider {
  &::scroll-button(*) {
		position: absolute;
		
		position-anchor:--carousel;
		
		width:3em;
		aspect-ratio:1;
		
		background-color:#fff;
		border-radius:50%;
		border:none;
		
		font:inherit;
		
		transition:.3s;
  }

  &::scroll-button(left) {
		content: '←' / 'Previous';
		
		position-area: center span-right;
		margin-inline-start:.5em;
  }
	
	&::scroll-button(right) {
    content: '→' / 'Next';
		
		position-area: center span-left;
		margin-inline-end:.5em;
  }
	
	&::scroll-button(*):disabled {
		opacity:.5;
	}
}



/***********/
/* snapped */
/***********/

.slider li {
	container-type: scroll-state;
}

.slider li img {
	opacity:0;
	
	transition:0s 1s;
	
	@container scroll-state(snapped:x) {
		opacity:1;
		
		transition:1.5s calc(.25s + sibling-index() * .25s );
	}
}

@layer basics {

	.slider {
		margin:0;
		padding:0;
		list-style-type:"";
		 @media (min-width: 1260px) {
            /* width: 78%; */
			/* margin-right:10%; */
		}
	}
	
	.slider li {
		width:100%;
		flex-shrink:0;
		display:grid;
		
		grid-template-columns:1fr 1fr 1fr 1fr;
		grid-template-rows:min-content min-content;
		gap:1em;
	}
	
	.slider li img {
		width:100%;		
		aspect-ratio:16 / 9;
		object-fit:cover;
		display:block;
		
		li:nth-of-type(1) &:nth-of-type(1),
		li:nth-of-type(2) &:nth-of-type(1) {
			grid-area:1/1/3/3;
		}
	}
}

@media (min-width : 1260px) {
	main, .slider li{
		width: 78%;
		margin-left:11%;
		margin-right:11%;
	}
}

@media (max-width:759px) {
	.slider li:nth-of-type(-n+2) {
		grid-template-columns: repeat(4, 1fr);
		grid-template-rows: auto auto;
	}

	/* First image spans full width */
	.slider li:nth-of-type(-n+2) img:first-of-type {
		grid-column: 1 / -1;
		grid-row: 1;
	}

	/* Other images align in row 2 */
	.slider li:nth-of-type(-n+2) img:not(:first-of-type) {
		grid-row: 2;
	}
}